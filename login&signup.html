<!DOCTYPE html>
    <html>
        <head>
            <title>Login & Sign Up</title>
             <meta charset="UTF-8">
            <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">
            <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable = 0" >
            <meta name="description" content="Login Page|| Laundry Walaa, to provide you best laundry services at reasonable rates . We come up first to help you out washing and cleaning your clothes out of your busy schedule.">
            <link rel="stylesheet" href="styles3.css">
        </head>
        <body>
            <div class="bgm4" id=""><p class="logo4">Laundry Walaa</p></div>
            <div>
                <h1 class="login">Login</h1>
                <div class="dogo2">
                <div class="login1 user"><input type="text" placeholder="Username" class="us" id="userInp" /></div>
                <div class="login10 pass"><input type="password" placeholder="Password" class="us" id="passInp" /></div>
                </div>
                <div class="dogo3">
                <div class="login3"><button type="submit" class="login2" id="sub_btn">Confirm</button></div>
                <div class="login4">Or</div>
                <div class="login5"><a href="index.html"><button type="submit" class="login20">Sign Up</button></a></div>
                </div>
            </div>

            <div><a href="forgotpassword.html"  class="forget">Forgot Password</a></div>
            

            <script type="module">
               
                // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCDqQzRmuFOXQgfc12PIxzCDcHIJcIUW0I",
    authDomain: "laundry-walaa.firebaseapp.com",
    projectId: "laundry-walaa",
    storageBucket: "laundry-walaa.appspot.com",
    messagingSenderId: "164078565347",
    appId: "1:164078565347:web:f7169029dad99f15fa52d6",
    measurementId: "G-54QCKHK71N"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  
  import{ getDatabase, ref, set, child, get}
        from "https://www.gstatic.com/firebasejs/9.9.2/firebase-database.js";

        const database = getDatabase();
       
        //-----------------------------------------------THE REFERENCES---------------------------------------------------//
    
          const username = document.getElementById("userInp");
            const pass = document.getElementById("passInp");
            const submit = document.getElementById("sub_btn");

//------------------------------------------AUTHENTICATION PROCESS-----------------------------------------//

              function AuthenticateUser(){
                const dbRef = ref(getDatabase());   

get(child(dbRef, "UsersList/"+ username.value)).then((snapshot)=>{    
 if (snapshot.exists()) {
  let dbpass = snapshot.val().Password;
 

  var loginname = snapshot.val().Name;
  var loginemail = snapshot.val().Email;
  var loginuser = snapshot.val().Username;
 
  
  if(dbpass == pass.value){
    window.location = "mainpage1.html";
  }
  else{
    swal({
  title: "Incorrect Password!",
  text: "Enter a Correct Password!",
  icon: "warning",
  button: "OK",
});
  }
 }
else{
  swal({
  title: "Invalid!",
  text: "Username or Password is Invalid!",
  icon: "warning",
  button: "OK",
});
}

});

 }  
 

 //---------------------------------ASSIGN THE EVENTS------------------------------------//

 submit.addEventListener("click", AuthenticateUser);





            </script>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


        </body>
    </html>